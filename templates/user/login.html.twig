{% extends 'base.html.twig' %}

{% block body %}
    {% if error %}
        <div class="toast-container top-10 end-0 p-3">
            <div class="toast align-items-center bg-danger bg-opacity-25 text-danger border-1" role="alert"
                 data-controller="toast">
                <div class="d-flex">
                    <div class="toast-body">
                        Identifiant ou mot de passe invalides
                    </div>
                    <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast"
                            aria-label="Close"></button>
                </div>
            </div>
        </div>
    {% endif %}
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white text-center">
                        <h2>Se connecter</h2>
                    </div>
                    <div class="card-body p-4">
                        <form method="post" action="{{ path('app_login') }}">
                            <div class="row g-3">
                                <div class="col-12">
                                    <div class="form-floating">
                                        <input type="email" value="{{ last_username }}"
                                               name="_username" id="inputUsername" placeholder="Email"
                                               class="form-control"
                                               autocomplete="email" autofocus required>
                                        <label for="inputUsername">Email</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-floating" data-controller="pwd-eye">
                                        <input type="password" placeholder="Mot de passe"
                                               name="_password" id="inputPassword" class="form-control"
                                               autocomplete="current-password" required data-pwd-eye-target="input">
                                        <label for="inputPassword">Mot de passe</label>
                                    </div>
                                </div>
                                <div class="col-12 text-center">
                                    <button class="btn btn-lg btn-primary text-white" type="submit">
                                        Se connecter
                                    </button>
                                </div>
                            </div>
                            <input type="hidden" name="_csrf_token"
                                   value="{{ csrf_token('authenticate') }}">

                        </form>
                    </div>
                    <div class="card-footer text-center">
                    <span class="small">Pas encore inscrit ? <a
                                href="{{ path('app_signin') }}">Inscrivez-vous</a></span>
                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}